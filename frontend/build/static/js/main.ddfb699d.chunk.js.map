{"version":3,"sources":["utils/token.js","images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/InitialLayout.js","components/Register.js","components/Login.js","components/NotFound.js","components/ProtectedRoute.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/InfoTooltip.js","images/register-ok.png","images/register-fail.png","utils/Api.js","utils/UserAuth.js","components/App.js","index.js"],"names":["TOKEN_KEY","Header","props","path","exact","className","isInitialScreen","src","logoPath","alt","isBurgerActive","email","to","onClick","handleClick","handleBurgerClick","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","item","cardDeleteButtonClassName","cardLikeButtonClassName","onCardDelete","onCardClick","link","name","onCardLike","parseInt","Main","onEditAvatar","avatar","about","onEditProfile","onAddPlace","cards","map","length","Footer","InitialLayout","useState","password","data","setData","handleChange","evt","target","value","prev","title","onSubmit","preventDefault","id","type","onChange","required","placeholder","btnText","redirect","Register","Login","NotFound","ProtectedRoute","Component","component","loggedIn","PopupWithForm","onOverlayClose","isOpen","onClose","noValidate","children","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","onKeyDown","checkValid","EditProfilePopup","setName","description","setDescription","useEffect","onUpdateUser","minLength","maxLength","AddPlacePopup","location","setLocation","setLink","ImagePopup","InfoTooltip","isRegistered","api","url","token","this","_url","_token","fetch","method","headers","then","res","ok","json","Promise","reject","status","isLicked","authorization","body","JSON","stringify","auth","App","headerEmail","setHeaderEmail","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isInfoTooltipOpen","setInfoTooltipOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","setIsRegistered","setinitialScreen","history","useHistory","localStorage","getItem","handleOverlayClose","currentTarget","closeAllPopups","jwt","checkToken","push","catch","err","console","log","getUserInfo","getInitialCards","handleEscClose","key","document","addEventListener","removeEventListener","isValid","setIsValid","setBurgerActive","Provider","removeItem","changeLikeCardStatus","newCards","updCard","deleteCard","filter","register","authorize","setItem","setToken","setAvatar","checkValidity","user","setUserInfo","createCard","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ddfb699d.chunk.js","sourcesContent":["const TOKEN_KEY = 'jwt';\n\nexport const setToken = (token) => {\n  localStorage.setItem(TOKEN_KEY, token);\n}\n\nexport const getToken = () => localStorage.getItem(TOKEN_KEY);\n\nexport const removeToken = () => {\n  localStorage.removeItem(TOKEN_KEY)\n}\n","export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from 'react'\nimport { Link, Route, Switch } from 'react-router-dom'\nimport logoPath from '../images/logo.svg'\n\nfunction Header(props) {\n  return (\n    <Switch>\n      <Route path=\"/404\" exact></Route>\n      <Route path=\"*\">\n        <header className={\n          props.isInitialScreen ?\n          'header_screen_initial' :\n          'header'\n        }>\n          <img\n            className=\"header__logo\"\n            src={logoPath}\n            alt=\"Логотип\" />\n          <Switch>\n            <Route path=\"/\" exact>\n              <div className={\n                props.isBurgerActive ?\n                'header__info header__info_active' :\n                'header__info'\n              }>\n              <div className=\"header__email\">\n                { props.email }\n              </div>\n                <Link\n                  to=\"/sign-in\"\n                  className=\"header__navlink\"\n                  onClick={props.handleClick}>\n                  Выйти\n                </Link>\n              </div>\n            </Route>\n\n            <Route path=\"/sign-up\">\n              <Link\n                to=\"/sign-in\"\n                className={\n                  props.isInitialScreen ?\n                  'header__navlink_screen_initial' :\n                  'header__navlink'\n                }>\n                Войти\n              </Link>\n            </Route>\n            <Route path=\"/sign-in\">\n              <Link\n                to=\"/sign-up\"\n                className={\n                  props.isInitialScreen ?\n                  'header__navlink_screen_initial' :\n                  'header__navlink'\n                }>\n                Регистрация\n              </Link>\n            </Route>\n          </Switch>\n\n          <Route path=\"/\" exact>\n          <div\n            className={\n              props.isBurgerActive ?\n              'header__burger header__burger_active' :\n              'header__burger'\n            }\n            onClick={props.handleBurgerClick}>\n            <div className={\n              props.isBurgerActive ?\n              'header__burger-line header__burger-line_active_pos_top' :\n              'header__burger-line'\n              } />\n            <div className={\n              props.isBurgerActive ?\n              'header__burger-line header__burger-line_active_pos_middle' :\n              'header__burger-line'\n              } />\n            <div className={\n              props.isBurgerActive ?\n              'header__burger-line header__burger-line_active_pos_bottom' :\n              'header__burger-line'\n              } />\n          </div>\n          </Route>\n\n        </header>\n      </Route>\n    </Switch>\n  )\n}\n\nexport default Header","import React from 'react'\n\nconst CurrentUserContext = React.createContext()\n\nexport default CurrentUserContext","import React from 'react'\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext)\n  const isOwn = props.card.owner._id === currentUser._id\n  const isLiked = props.card.likes.some(item => item._id === currentUser._id)\n\n  const cardDeleteButtonClassName =\n    `${isOwn ?\n      'element__delete-button' :\n      'element__delete-button element__delete-button_hidden'\n    }`\n  const cardLikeButtonClassName =\n    `${isLiked ?\n      'element__like-button element__like-button_pressed' :\n      'element__like-button'\n    }`\n\n  function handleClick() {\n    props.onCardClick(props.card)\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card)\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card)\n  }\n\n  return (\n    <li className=\"element\">\n      <button onClick={handleDeleteClick} className={cardDeleteButtonClassName}></button>\n      <img onClick={handleClick} className=\"element__image\" src={props.link} alt={props.name} />\n      <div className=\"element__heading\">\n        <h2 className=\"element__title\">{props.name}</h2>\n        <div className=\"element__like-container\">\n          <button onClick={handleLikeClick} className={cardLikeButtonClassName}></button>\n          <span className=\"element__like-counter\">{parseInt(props.likes)}</span>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default Card","import React from 'react'\nimport Card from '../components/Card'\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext)\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar\" \n          onClick={props.onEditAvatar}>\n          <img className=\"profile__img\" src={currentUser.avatar} alt=\"Аватар\" />\n        </div>\n        <div className=\"profile__user-info\">\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\n        </div>\n        <button className=\"profile__edit-button\"\n          onClick={props.onEditProfile}></button>\n        <div className=\"profile__container\">\n          <button className=\"profile__add-button\" \n            onClick={props.onAddPlace}></button>\n        </div>\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"elements__list\">\n          {\n            props.cards.map((card) => (\n              <Card \n                key={card._id}\n                link={card.link}\n                name={card.name}\n                likes={card.likes.length}\n                card={card}\n                onCardClick={props.onCardClick}\n                onCardLike={props.onCardLike}\n                onCardDelete={props.onCardDelete}\n              />\n            ))\n          }\n        </ul>\n      </section>\n    </main>\n  )\n}\n\nexport default Main ","import React from 'react'\nimport { Route, Switch } from 'react-router-dom'\n\nfunction Footer() {\n  return (\n    <Switch>\n      <Route path=\"/404\" exact></Route>\n      <Route path=\"/\" exact>\n        <footer className=\"footer\">\n          <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n        </footer>\n      </Route>\n      <Route path=\"/sign-up\"></Route>\n      <Route path=\"/sign-in\"></Route>\n    </Switch>\n  )\n}\n\nexport default Footer","import React from 'react';\nimport { Link } from 'react-router-dom'\n\nfunction InitialLayout(props) {\n  const [data, setData] = React.useState({\n    email: '',\n    password: ''\n  })\n\n  function handleChange(evt) {\n    const { name, value } = evt.target\n    setData((prev) => {\n      return {\n        ...prev,\n        [name]: value\n      }\n    })\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault()\n\n    props.onSubmit(data)\n  }\n\n  return (\n    <section className=\"initial-layout\">\n      <h2 className=\"initial-layout__title\">{ props.title }</h2>\n        <form\n          className=\"initial-layout__form\"\n          onSubmit={handleSubmit}>\n          <label className=\"initial-layout__label\">\n            <input\n              id=\"email-input\"\n              type=\"email\"\n              name=\"email\"\n              onChange={handleChange}\n              className=\"initial-layout__input\"\n              required\n              placeholder=\"Email\">\n            </input>\n          </label>\n          <label className=\"initial-layout__label\">\n            <input\n              id=\"password-input\"\n              type=\"password\"\n              name=\"password\"\n              onChange={handleChange}\n              className=\"initial-layout__input\"\n              required\n              placeholder=\"Пароль\">\n            </input>\n          </label>\n          <button\n            type=\"submit\"\n            className=\"initial-layout__btn\">\n            { props.btnText }\n          </button>\n        </form>\n        {\n          props.redirect ?\n          <div className=\"initial-layout__redirect\">\n            <p className=\"initial-layout__text\">Уже зарегистрированы?</p>\n              <Link\n                to=\"/sign-in\"\n                className=\"initial-layout__link\">Войти\n              </Link>\n          </div>\n          :\n          null\n        }\n    </section>\n  )\n}\n\nexport default InitialLayout;\n","import React from 'react'\nimport InitialLayout from './InitialLayout'\n\nfunction Register(props) {\n\n  function handleSubmit(data) {\n    props.onSubmit(data)\n  }\n\n  return(\n    <InitialLayout\n      title=\"Регистрация\"\n      btnText=\"Зарегистрироваться\"\n      onSubmit={handleSubmit}\n      redirect={true}/>\n  )\n}\n\nexport default Register;\n","import React from 'react'\nimport InitialLayout from './InitialLayout'\n\nfunction Login(props) {\n  function handleSubmit(data) {\n    props.onSubmit(data)\n  }\n\n  return(\n    <InitialLayout\n      title=\"Вход\"\n      btnText=\"Войти\"\n      onSubmit={handleSubmit}\n      redirect={false}/>\n  )\n}\n\nexport default Login;","import React from 'react'\n\nfunction NotFound() {\n  return(\n    <section className=\"not-found\">\n      <h2 className=\"not-found__title\">404</h2>\n      <p className=\"not-found__text\">Страница не найдена!</p>\n    </section>\n  )\n}\n\nexport default NotFound;","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nfunction ProtectedRoute({ component: Component, ...props  }) {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ?\n        <Component {...props} /> :\n        <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;\n","import React from 'react'\n\nfunction PopupWithForm(props) {\n  return (\n    <section onClick={props.onOverlayClose} className={props.isOpen ? `popup popup_type_${props.name} popup_opened` : `popup popup_type_${props.name}`}>  \n      <div  className={`popup__container popup__container_type_${props.type}`}>\n        <h2 className=\"popup__title\"> {props.title} </h2>\n        <div className=\"popup__close-btn\" onClick={props.onClose}></div>\n        <form onSubmit={props.onSubmit} name={`${props.name}`} className=\"popup__form\" noValidate>\n          {props.children}\n        </form>\n      </div>\n    </section>\n  )\n}\n\nexport default PopupWithForm","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup(props) {\n\n  const avatarRef = React.useRef()\n\n  function handleSubmit(evt) {\n    evt.preventDefault()\n\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      name='avatar-upd'\n      title='Обновить аватар'\n      type='confirm'\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      onOverlayClose={props.onOverlayClose}\n    >\n\n      <>\n        <label className=\"popup__label\">\n          <input\n            id=\"link-input-avatar\"\n            name=\"linkavatar\"\n            ref={avatarRef}\n            className=\"popup__input popup__input_text_link\"\n            type=\"url\"\n            placeholder=\"Ссылка на картинку\"\n            onKeyDown={props.onKeyDown}\n            required />\n          <span\n            id=\"link-input-avatar-error\"\n            className={props.checkValid ?\n            `popup__error` :\n            `popup__error popup__error_visible`}>Error</span>\n        </label>\n        <button className=\"popup__btn\" type=\"submit\">Сохранить</button>\n      </>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = React.useState('')\n  const [description, setDescription] = React.useState('')\n\n  const currentUser = React.useContext(CurrentUserContext)\n  \n  React.useEffect(() => {\n    setName(currentUser.name)\n    setDescription(currentUser.about)\n  }, [currentUser])\n\n  function handleChangeName(evt) {\n    setName(evt.target.value)\n  }\n\n  function handleChangeDescription(evt) {\n    setDescription(evt.target.value)\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault()\n\n    props.onUpdateUser({\n      name,\n      about: description,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      name='edit-profile'\n      title='Редактировать профиль'\n      type='form'\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      onOverlayClose={props.onOverlayClose}\n    >\n\n      <>\n        <label className=\"popup__label\">\n          <input \n            id=\"name-input\" \n            value={name ? name : ''} \n            onChange={handleChangeName}\n            name=\"name\" \n            className=\"popup__input popup__input_text_name\"\n            type=\"text\"\n            placeholder=\"Имя\"\n            required\n            minLength=\"2\"\n            maxLength=\"40\" />\n          <span id=\"name-input-error\" className=\"popup__error\"></span>\n        </label>\n        <label className=\"popup__label\">\n          <input \n            id=\"job-input\" \n            value={description ? description : ''}\n            onChange={handleChangeDescription}\n            name=\"job\" \n            className=\"popup__input popup__input_text_job\" type=\"text\"\n            placeholder=\"О себе\"\n            required\n            minLength=\"2\"\n            maxLength=\"200\" />\n          <span id=\"job-input-error\" className=\"popup__error\"></span>\n        </label>\n        <button className=\"popup__btn\" type=\"submit\">Сохранить</button>\n      </>\n\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction AddPlacePopup(props) {\n  const [location, setLocation] = React.useState('')\n  const [link, setLink] = React.useState('')\n  \n  function handleChangeLocation(evt) {\n    setLocation(evt.target.value)\n  }\n\n  function handleChangeLink(evt) {\n    setLink(evt.target.value)\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault()\n\n    props.onAddPlace({\n      location,\n      link,\n    })\n\n    setLocation('')\n    setLink('')\n  }\n\n  return (\n    <PopupWithForm\n      name='add-card'\n      title='Новое место'\n      type='form'\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      onOverlayClose={props.onOverlayClose}\n    >\n      <>\n        <label className=\"popup__label\">\n          <input \n            id=\"location-input\" \n            value={location ? location : ''}\n            onChange={handleChangeLocation}\n            name=\"location\" \n            className=\"popup__input popup__input_text_location\"\n            type=\"text\"\n            placeholder=\"Название\"\n            required\n            minLength=\"2\"\n            maxLength=\"30\" />\n          <span id=\"location-input-error\" className=\"popup__error\"></span>\n        </label>\n        <label className=\"popup__label\">\n          <input \n            id=\"link-input\" \n            value={link ? link : ''}\n            onChange={handleChangeLink}\n            name=\"link\" \n            className=\"popup__input popup__input_text_link\"\n            type=\"url\"\n            placeholder=\"Ссылка на картинку\"\n            required />\n          <span id=\"link-input-error\" className=\"popup__error\"></span>\n        </label>\n        <button className=\"popup__btn\" type=\"submit\">Создать</button>\n      </>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup","import React from 'react'\n\nfunction ImagePopup(props) {\n  return (\n    <section onClick={props.onOverlayClose} className={props.card ? `popup popup_type_photo popup_opened` : `popup popup_type_photo`}>\n      <figure className=\"popup__container popup__container_type_photo\">\n        <div className=\"popup__close-btn\" onClick={props.onClose}></div>\n        <img className=\"popup__image\" src={props.card ? props.card.link : '#'} alt={props.card ? props.card.name : ''} />\n        <figcaption className=\"popup__description\">{props.card ? props.card.name : ''}</figcaption>\n      </figure>\n    </section>\n  )\n}\n\nexport default ImagePopup","import React from 'react';\nimport imgOk from '../images/register-ok.png';\nimport imgFail from '../images/register-fail.png';\n\nfunction InfoTooltip(props) {\n  const msgOk = 'Вы успешно зарегистрировались!';\n  const msgFail = 'Что-то пошло не так! Попробуйте ещё раз.';\n\n  return(\n    <section\n      onClick={props.onOverlayClose}\n      className={\n        props.isOpen ?\n        `popup popup_type_${props.name} popup_opened` :\n        `popup popup_type_${props.name}`}>\n      <div  className={`popup__container popup__container_type_${props.type}`}>\n        <img\n          src={ props.isRegistered ? imgOk : imgFail }\n          alt=\"ok\"\n          className=\"popup__img\"/>\n        <div\n          className=\"popup__close-btn\"\n          onClick={props.onClose}></div>\n        <h2\n          className=\"popup__title popup__title_type_tooltip\">\n          { props.isRegistered ? msgOk : msgFail }\n        </h2>\n      </div>\n    </section>\n\n\n\n\n    // <PopupWithForm\n    //   title='Title'\n    //   isOpen={props.isOpen}\n    //   onClose={props.onClose}\n    //   onOverlayClose={props.onOverlayClose}\n    // />\n  )\n}\n\nexport default InfoTooltip;\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","// import React from 'react'\n\nexport class Api {\n  constructor({ url, token}) {\n    this._url = url\n    this._token = token\n  }\n\n  getInitialCards(token) {\n    return fetch(`${this._url}${'/cards'}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        \"Authorization\" : `Bearer ${token}`\n      }\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json()\n      }\n      return Promise.reject(`Ошибка: ${res.status}`)\n    })\n  }\n\n  changeLikeCardStatus(id, isLicked) {\n    if (!isLicked) {\n      return fetch(`${this._url}${'/cards/likes'}/${id}`, {\n        method: 'PUT',\n        headers: {\n          authorization: this._token,\n          'Content-Type': 'application/json'\n        }\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n    } else if (isLicked) {\n      return fetch(`${this._url}${'/cards/likes'}/${id}`, {\n        method: 'DELETE',\n        headers: {\n          authorization: this._token,\n          'Content-Type': 'application/json'\n        }\n      })\n      .then((res) => {\n        if (res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Ошибка: ${res.status}`)\n      })\n    }\n  }\n\n  getUserInfo(token) {\n    return fetch(`${this._url}${'/users/me'}`, {\n      headers: {\n        'Content-Type': 'application/json',\n        \"Authorization\" : `Bearer ${token}`\n      }\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json()\n      }\n      return Promise.reject(`Ошибка: ${res.status}`)\n    })\n  }\n\n  setUserInfo(name, about, token) {\n    return fetch(`${this._url}${'/users/me'}`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        \"Authorization\" : `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        name,\n        about\n      })\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res\n      }\n      return Promise.reject(`Ошибка: ${res.status}`)\n    })\n  }\n\n  setAvatar(avatar, token) {\n    return fetch(`${this._url}${'/users/me/avatar'}`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        \"Authorization\" : `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        avatar: avatar\n      })\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res\n      }\n      return Promise.reject(`Ошибка: ${res.status}`)\n    })\n  }\n\n  createCard(name, link, token) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        \"Authorization\" : `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        name,\n        link\n      })\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json()\n      }\n      return Promise.reject(`Ошибка: ${res.status}`)\n    })\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._url}${'/cards'}/${id}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      }\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json()\n      }\n      return Promise.reject(`Ошибка: ${res.status}`)\n    })\n  }\n}\n\nconst api = new Api({\n  // url: 'https://mesto.nomoreparties.co/v1/cohort-14',\n  url: 'http://localhost:4000',\n  token: '3afbb2b4-9ecc-4aaa-9813-505ad2c004fc'\n})\n\nexport default api","class UserAuth {\n  constructor(url) {\n    this._url = url\n  }\n\n  register(data) {\n    const { email, password } = data\n\n    return fetch(`${this._url}/signup`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        password,\n        email\n      })\n    }).then((res) => {\n      if (res.ok) {\n        return res.json()\n      }\n      return Promise.reject(`Ошибка: ${res.status}`)\n    })\n  }\n\n  authorize(data) {\n    const { email, password } = data\n\n    return fetch(`${this._url}/signin`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        password,\n        email\n      })\n    }).then((res) => {\n      if (res.ok) {\n        return res.json()\n      }\n      return Promise.reject(`Ошибка: ${res.status}`)\n    })\n  }\n\n  checkToken(token) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        \"Authorization\" : `Bearer ${token}`\n      }\n    }).then((res) => {\n      if (res.ok) {\n        return res.json()\n      }\n      return Promise.reject(`Ошибка: ${res.status}`)\n    })\n  }\n\n}\n\nconst auth = new UserAuth('http://localhost:4000')\n\nexport default auth;\n","import React from 'react'\nimport { Redirect, Route, Switch, useHistory } from 'react-router-dom';\nimport { setToken, getToken, removeToken } from '../utils/token'\nimport Header from './Header'\nimport Main from './Main'\nimport Footer from './Footer'\nimport Register from './Register'\nimport Login from './Login'\nimport NotFound from './NotFound'\nimport ProtectedRoute from './ProtectedRoute'\nimport PopupWithForm from './PopupWithForm'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport EditProfilePopup from './EditProfilePopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport ImagePopup from './ImagePopup'\nimport InfoTooltip from './InfoTooltip'\nimport api from '../utils/Api'\nimport auth from '../utils/UserAuth'\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction App() {\n  const [headerEmail, setHeaderEmail] = React.useState('')\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false)\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false)\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false)\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = React.useState(false)\n  const [selectedCard, setSelectedCard] = React.useState(null)\n  const [currentUser, setCurrentUser] = React.useState({})\n  const [cards, setCards] = React.useState([])\n\n  const [loggedIn, setLoggedIn] = React.useState(false)\n  const [isRegistered, setIsRegistered] = React.useState(false)\n  const [isInitialScreen, setinitialScreen] = React.useState(true)\n\n  const history = useHistory()\n\n  const token = getToken()\n\n  const tokenCheck = (jwt) => {\n\n    if (!jwt) {\n      return\n    }\n\n    auth.checkToken(jwt).then((res) => {\n\n      setLoggedIn(true)\n      setHeaderEmail(res.email)\n      history.push('/')\n    })\n    .catch((err) => {console.log(err)})\n  }\n\n  React.useEffect(() => {\n    tokenCheck(token)\n  }, [])\n\n  React.useEffect(() => {\n\n    if (token === null) {\n      return\n    }\n\n    api.getUserInfo(token).then((res) => {\n      setCurrentUser(res)\n    }).catch((err) => {console.log(err)})\n  }, [token])\n\n  React.useEffect(() => {\n\n    if (token === null) {\n      return\n    }\n\n    api.getInitialCards(token)\n      .then((res) => {\n        setCards(res)\n      }).catch((err) => {console.log(err)})\n  }, [token])\n\n  React.useEffect(() => {\n    function handleEscClose(evt) {\n      if (evt.key === 'Escape') {\n        closeAllPopups()\n      }\n    }\n\n    document.addEventListener('keydown', handleEscClose)\n    return () => {\n      document.removeEventListener('keydown', handleEscClose)\n    }\n  }, [])\n\n  function handleOverlayClose(evt) {\n    if (evt.target === evt.currentTarget) {\n      closeAllPopups()\n    }\n  }\n\n  const [isValid, setIsValid] = React.useState(true)\n\n  function handleKeydown(evt) {\n    setIsValid(evt.target.checkValidity())\n    console.log(evt.target.value)\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(item => item._id === currentUser._id)\n\n    api.changeLikeCardStatus(card._id, isLiked).then((res) => {\n      const newCards = cards.map(\n        (updCard) => updCard._id === card._id ? res : updCard)\n\n      setCards(newCards)\n    }).catch((err) => {console.log(err)})\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n    .then(() => {\n      const newCards = cards.filter(item => item._id !== card._id)\n      setCards(newCards)\n      api.getInitialCards(token).then((res) => {\n        setCards(res)\n      }).catch((err) => {console.log(err)})\n    }).catch((err) => {console.log(err)})\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true)\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true)\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true)\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card)\n  }\n\n\n  function handleUpdateUser(user) {\n    api.setUserInfo(user.name, user.about, token)\n      .then(() => {\n        api.getUserInfo(token).then((res) => {\n          setCurrentUser(res)\n          closeAllPopups()\n        }).catch((err) => {console.log(err)})\n      }).catch((err) => {console.log(err)})\n  }\n\n  function handleUpdateAvatar(url) {\n    api.setAvatar(url.avatar, token)\n      .then(() => {\n        api.getUserInfo(token)\n          .then((res) => {\n            setCurrentUser(res)\n            closeAllPopups()\n          }).catch((err) => {console.log(err)})\n      }).catch((err) => {console.log(err)})\n  }\n\n  function handleAddPlaceSubmit(data) {\n    api.createCard(data.location, data.link, token)\n      .then((res) => {\n        setCards([...cards, res])\n        api.getInitialCards(token).then((res) => {\n          setCards(res)\n        }).catch((err) => {console.log(err)})\n\n        closeAllPopups()\n      }).catch((err) => {console.log(err)})\n  }\n\n  function handleRegisterSubmit(data) {\n\n    auth.register(data)\n      .then((res) => {\n        setIsRegistered(true)\n        setInfoTooltipOpen(true)\n        history.push('/sign-in')\n      })\n      .catch((err) => {\n        console.log(err)\n        setIsRegistered(false)\n        setInfoTooltipOpen(true)\n      })\n  }\n\n  function handleAuthSubmit(data) {\n    auth.authorize(data)\n      .then((res) => {\n        console.log(res)\n        setLoggedIn(true)\n        setHeaderEmail(data.email)\n        setToken(res.token)\n        setinitialScreen(false)\n        history.push('/')\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  function handleLogOut() {\n    removeToken()\n    setinitialScreen(true)\n  }\n\n  const [isBurgerActive, setBurgerActive] = React.useState(false)\n\n  function handleBurgerClick() {\n    isBurgerActive ?\n    setBurgerActive(false)\n    :\n    setBurgerActive(true)\n\n  }\n\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false)\n    setEditProfilePopupOpen(false)\n    setAddPlacePopupOpen(false)\n    setInfoTooltipOpen(false)\n    setSelectedCard(null)\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header\n          email={headerEmail}\n          handleClick={handleLogOut}\n          handleBurgerClick={handleBurgerClick}\n          isBurgerActive={isBurgerActive}\n          isInitialScreen={isInitialScreen}\n        />\n        <Switch>\n          <ProtectedRoute\n            path=\"/\" exact\n            loggedIn={loggedIn}\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            cards={cards}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            component={Main} />\n          <Route path=\"/sign-up\">\n            <Register onSubmit={handleRegisterSubmit}/>\n          </Route>\n          <Route path=\"/sign-in\">\n            <Login onSubmit={handleAuthSubmit}/>\n          </Route>\n          <Route path=\"/404\">\n            <NotFound />\n          </Route>\n          <Redirect to=\"/404\"></Redirect>\n\n        </Switch>\n        <Footer />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onOverlayClose={handleOverlayClose}\n          onUpdateAvatar={handleUpdateAvatar}\n          onKeyDown={handleKeydown}\n          checkValid={isValid}\n        />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onOverlayClose={handleOverlayClose}\n          onUpdateUser={handleUpdateUser}\n          />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onOverlayClose={handleOverlayClose}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n\n        <PopupWithForm\n          name='confirm'\n          title='Вы уверены?'\n          type='confirm'\n          onClose={closeAllPopups}\n        >\n          <>\n            <button\n              className=\"popup__btn popup__btn_type_confirm\"\n              type=\"submit\">Да</button>\n          </>\n        </PopupWithForm>\n\n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups}\n          onOverlayClose={handleOverlayClose}\n        />\n\n        <InfoTooltip\n          name='tooltip'\n          type='tooltip'\n          title={loggedIn}\n          isRegistered={isRegistered}\n          isOpen={isInfoTooltipOpen}\n          onClose={closeAllPopups}\n          onOverlayClose={handleOverlayClose}\n        />\n      </CurrentUserContext.Provider>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css'\nimport App from './components/App'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}